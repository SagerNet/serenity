{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Welcome to the wiki page for the serenity project.</p> <p>The configuration generator for sing-box.</p>"},{"location":"#license","title":"License","text":"<pre><code>Copyright (C) 2022 by nekohasekai &lt;contact-sagernet@sekai.icu&gt;\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.\n\nIn addition, no derivative work may use the name or imply association\nwith this application without prior consent.\n</code></pre>"},{"location":"changelog/","title":"Change Log","text":""},{"location":"changelog/#100-beta17","title":"1.0.0-beta.17","text":"<ul> <li>Replace <code>template.extra_groups.&lt;per_subscription/exclude_outbounds&gt;</code> with <code>target</code></li> </ul>"},{"location":"changelog/#100-beta16","title":"1.0.0-beta.16","text":"<ul> <li>Add <code>export &lt;profile&gt;</code> command to export configuration without running the server </li> <li>Add <code>template.extra_groups.exclude_outbounds</code></li> <li>Add <code>template.extra_groups.&lt;per_subscription/tag_per_subscription&gt;</code></li> </ul>"},{"location":"changelog/#100-beta15","title":"1.0.0-beta.15","text":"<ul> <li>Add support for inline rule-sets 1</li> </ul> <p>1:</p> <p>Will be merged into route and DNS rules in older versions.</p>"},{"location":"changelog/#100-beta14","title":"1.0.0-beta.14","text":"<ul> <li>Rename <code>template.dns_default</code> to <code>template.dns</code></li> <li>Add <code>template.domain_strategy_local</code></li> </ul>"},{"location":"changelog/#100-beta13","title":"1.0.0-beta.13","text":"<ul> <li>Add <code>template.auto_redirect</code></li> </ul>"},{"location":"changelog/#100-beta12","title":"1.0.0-beta.12","text":"<ul> <li>Fixes and improvements</li> </ul>"},{"location":"changelog/#100-beta11","title":"1.0.0-beta.11","text":"<ul> <li>Add <code>template.extend</code></li> <li>Add independent rule-set configuration 1</li> </ul> <p>1:</p> <p>With the new <code>type=github</code>, you can batch generate rule-sets based on GitHub files. See Rule-Set.</p>"},{"location":"changelog/#100-beta10","title":"1.0.0-beta.10","text":"<ul> <li>Add <code>template.inbounds</code></li> </ul>"},{"location":"changelog/#100-beta9","title":"1.0.0-beta.9","text":"<ul> <li>Add <code>template.log</code></li> <li>Fixes and improvements</li> </ul>"},{"location":"changelog/#100-beta8","title":"1.0.0-beta.8","text":"<ul> <li>Add <code>subscription.process.rewrite_multiplex</code></li> <li>Rename <code>subscription.process.[filter/exclude]_outbound_type</code> to <code>subscription.process.[filter/exclude]_type</code></li> <li>Rewrite <code>subscription.process</code></li> <li>Fixes and improvements</li> </ul>"},{"location":"changelog/#20231212","title":"2023/12/12","text":"<p>No changelog before.</p>"},{"location":"support/","title":"Support","text":"Channel Link Community https://community.sagernet.org GitHub Issues https://github.com/SagerNet/serenity/issues Telegram notification channel https://t.me/yapnc Telegram user group https://t.me/yapug Email contact@sagernet.org"},{"location":"configuration/","title":"Introduction","text":"<p>serenity uses JSON for configuration files.</p>"},{"location":"configuration/#structure","title":"Structure","text":"<pre><code>{\n  \"log\": {},\n  \"listen\": \"\",\n  \"tls\": {},\n  \"cache_file\": \"\",\n  \"outbounds\": [],\n  \"subscriptions\": [],\n  \"templates\": [],\n  \"profiles\": [],\n  \"users\": []\n}\n</code></pre>"},{"location":"configuration/#fields","title":"Fields","text":""},{"location":"configuration/#log","title":"log","text":"<p>Log configuration, see Log.</p>"},{"location":"configuration/#listen","title":"listen","text":"<p>Required</p> <p>Listen address.</p>"},{"location":"configuration/#tls","title":"tls","text":"<p>TLS configuration, see TLS.</p>"},{"location":"configuration/#cache_file","title":"cache_file","text":"<p>Cache file path.</p> <p><code>cache.db</code> will be used if empty.</p>"},{"location":"configuration/#outbounds","title":"outbounds","text":"<p>List of Outbound, can be referenced in Profile.</p> <p>For chained outbounds, use an array of outbounds as an item, and the first outbound will be the entry.</p>"},{"location":"configuration/#subscriptions","title":"subscriptions","text":"<p>List of Subscription, can be referenced in Profile.</p>"},{"location":"configuration/#templates","title":"templates","text":"<p>Required</p> <p>List of Template, can be referenced in Profile.</p>"},{"location":"configuration/#profiles","title":"profiles","text":"<p>Required</p> <p>List of Profile, can be referenced in User.</p>"},{"location":"configuration/#users","title":"users","text":"<p>Required</p> <p>List of User.</p>"},{"location":"configuration/#check","title":"Check","text":"<pre><code>serenity check\n</code></pre>"},{"location":"configuration/#format","title":"Format","text":"<pre><code>serenity format -w -c config.json -D config_directory\n</code></pre>"},{"location":"configuration/profile/","title":"Profile","text":""},{"location":"configuration/profile/#structure","title":"Structure","text":"<pre><code>{\n  \"name\": \"\",\n  \"template\": \"\",\n  \"template_for_platform\": {},\n  \"template_for_user_agent\": {},\n  \"outbound\": [],\n  \"subscription\": []\n}\n</code></pre>"},{"location":"configuration/profile/#fields","title":"Fields","text":""},{"location":"configuration/profile/#name","title":"name","text":"<p>Required</p> <p>Profile name.</p>"},{"location":"configuration/profile/#template","title":"template","text":"<p>Default template name.</p> <p>A empty template is used by default.</p>"},{"location":"configuration/profile/#template_for_platform","title":"template_for_platform","text":"<p>Custom template for different graphical client.</p> <p>The key is one of <code>android</code>, <code>ios</code>, <code>macos</code>, <code>tvos</code>.</p> <p>The Value is the template name.</p>"},{"location":"configuration/profile/#template_for_user_agent","title":"template_for_user_agent","text":"<p>Custom template for different user agent.</p> <p>The key is a regular expression matching the user agent.</p> <p>The value is the template name.</p>"},{"location":"configuration/profile/#outbound","title":"outbound","text":"<p>Included outbounds.</p>"},{"location":"configuration/profile/#subscription","title":"subscription","text":"<p>Included subscriptions.</p>"},{"location":"configuration/subscription/","title":"Subscription","text":""},{"location":"configuration/subscription/#structure","title":"Structure","text":"<pre><code>{\n  \"name\": \"\",\n  \"url\": \"\",\n  \"user_agent\": \"\",\n  \"process\": [\n    {\n      \"filter\": [],\n      \"exclude\": [],\n      \"filter_type\": [],\n      \"exclude_type\": [],\n      \"invert\": false,\n      \"remove\": false,\n      \"rename\": {},\n      \"remove_emoji\": false,\n      \"rewrite_multiplex\": {}\n    }\n  ],\n  \"deduplication\": false,\n  \"update_interval\": \"5m\",\n  \"generate_selector\": false,\n  \"generate_urltest\": false,\n  \"urltest_suffix\": \"\",\n  \"custom_selector\": {},\n  \"custom_urltest\": {}\n}\n</code></pre>"},{"location":"configuration/subscription/#fields","title":"Fields","text":""},{"location":"configuration/subscription/#name","title":"name","text":"<p>Required</p> <p>Name of the subscription, will be used in group tags.</p>"},{"location":"configuration/subscription/#url","title":"url","text":"<p>Required</p> <p>Subscription URL.</p>"},{"location":"configuration/subscription/#user_agent","title":"user_agent","text":"<p>User-Agent in HTTP request.</p> <p><code>serenity/$version (sing-box $sing-box-version; Clash compatible)</code> is used by default.</p>"},{"location":"configuration/subscription/#process","title":"process","text":"<p>You can ignore the JSON Array [] tag when the content is only one item</p> <p>Process rules.</p>"},{"location":"configuration/subscription/#processfilter","title":"process.filter","text":"<p>Regexp filter rules, match outbound tag name.</p>"},{"location":"configuration/subscription/#processexclude","title":"process.exclude","text":"<p>Regexp exclude rules, match outbound tag name.</p>"},{"location":"configuration/subscription/#processfilter_type","title":"process.filter_type","text":"<p>Filter rules, match outbound type.</p>"},{"location":"configuration/subscription/#processexclude_type","title":"process.exclude_type","text":"<p>Exclude rules, match outbound type.</p>"},{"location":"configuration/subscription/#processinvert","title":"process.invert","text":"<p>Invert filter results.</p>"},{"location":"configuration/subscription/#processremove","title":"process.remove","text":"<p>Remove outbounds that match the rules.</p>"},{"location":"configuration/subscription/#processrename","title":"process.rename","text":"<p>Regexp rename rules, matching outbounds will be renamed.</p>"},{"location":"configuration/subscription/#processremove_emoji","title":"process.remove_emoji","text":"<p>Remove emojis in outbound tags.</p>"},{"location":"configuration/subscription/#processrewrite_multiplex","title":"process.rewrite_multiplex","text":"<p>Rewrite Multiplex options.</p>"},{"location":"configuration/subscription/#deduplication","title":"deduplication","text":"<p>Remove outbounds with duplicate server destinations (Domain will be resolved to compare).</p>"},{"location":"configuration/subscription/#update_interval","title":"update_interval","text":"<p>Subscription update interval.</p> <p><code>1h</code> is used by default.</p>"},{"location":"configuration/subscription/#generate_selector","title":"generate_selector","text":"<p>Generate a global <code>Selector</code> outbound for the subscription.</p> <p>If both <code>generate_selector</code> and <code>generate_urltest</code> are disabled, subscription outbounds will be added to global groups.</p>"},{"location":"configuration/subscription/#generate_urltest","title":"generate_urltest","text":"<p>Generate a global <code>URLTest</code> outbound for the subscription.</p> <p>If both <code>generate_selector</code> and <code>generate_urltest</code> are disabled, subscription outbounds will be added to global groups.</p>"},{"location":"configuration/subscription/#urltest_suffix","title":"urltest_suffix","text":"<p>Tag suffix of generated <code>URLTest</code> outbound.</p> <p><code>- URLTest</code> is used by default.</p>"},{"location":"configuration/subscription/#custom_selector","title":"custom_selector","text":"<p>Custom Selector template.</p>"},{"location":"configuration/subscription/#custom_urltest","title":"custom_urltest","text":"<p>Custom URLTest template.</p>"},{"location":"configuration/template/","title":"Template","text":""},{"location":"configuration/template/#structure","title":"Structure","text":"<pre><code>{\n  \"name\": \"\",\n  \"extend\": \"\",\n\n  // Global\n\n  \"log\": {},\n  \"domain_strategy\": \"\",\n  \"domain_strategy_local\": \"\",\n  \"disable_traffic_bypass\": false,\n  \"disable_rule_set\": false,\n  \"remote_resolve\": false,\n\n  // DNS\n\n  \"dns\": \"\",\n  \"dns_local\": \"\",\n  \"enable_fakeip\": false,\n  \"pre_dns_rules\": [],\n  \"custom_dns_rules\": [],\n\n  // Inbound\n\n  \"inbounds\": [],\n  \"auto_redirect\": false,\n  \"disable_tun\": false,\n  \"disable_system_proxy\": false,\n  \"custom_tun\": {},\n  \"custom_mixed\": {},\n\n  // Outbound\n\n  \"extra_groups\": [\n    {\n      \"tag\": \"\",\n      \"type\": \"\",\n      \"target\": \"\",\n      \"tag_per_subscription\": \"\",\n      \"filter\": \"\",\n      \"exclude\": \"\",\n      \"custom_selector\": {},\n      \"custom_urltest\": {}\n    }\n  ],\n  \"direct_tag\": \"\",\n  \"default_tag\": \"\",\n  \"urltest_tag\": \"\",\n  \"custom_direct\": {},\n  \"custom_selector\": {},\n  \"custom_urltest\": {},\n\n  // Route\n\n  \"pre_rules\": [],\n  \"custom_rules\": [],\n  \"enable_jsdelivr\": false,\n  \"custom_geoip\": {},\n  \"custom_geosite\": {},\n  \"custom_rule_set\": [],\n  \"post_rule_set\": [],\n\n  // Experimental\n\n  \"disable_cache_file\": false,\n  \"disable_clash_mode\": false,\n  \"clash_mode_rule\": \"\",\n  \"clash_mode_global\": \"\",\n  \"clash_mode_direct\": \"\",\n  \"custom_clash_api\": {},\n\n  // Debug\n\n  \"pprof_listen\": \"\",\n  \"memory_limit\": \"\"\n}\n</code></pre>"},{"location":"configuration/template/#fields","title":"Fields","text":""},{"location":"configuration/template/#name","title":"name","text":"<p>Required</p> <p>Profile name.</p>"},{"location":"configuration/template/#extend","title":"extend","text":"<p>Extend from another profile.</p>"},{"location":"configuration/template/#log","title":"log","text":"<p>Log configuration, see Log.</p>"},{"location":"configuration/template/#domain_strategy","title":"domain_strategy","text":"<p>Global sing-box domain strategy.</p> <p>One of <code>prefer_ipv4</code> <code>prefer_ipv6</code> <code>ipv4_only</code> <code>ipv6_only</code>.</p> <p>If <code>*_only</code> enabled, TUN and DNS will be configured to disable the other network.</p> <p>Note that if want <code>prefer_*</code> to take effect on transparent proxy requests, set <code>enable_fakeip</code>.</p> <p><code>ipv4_only</code> is used by default when <code>enable_fakeip</code> disabled, <code>prefer_ipv4</code> is used by default when <code>enable_fakeip</code> enabled.</p>"},{"location":"configuration/template/#domain_strategy_local","title":"domain_strategy_local","text":"<p>Local sing-box domain strategy.</p> <p><code>prefer_ipv4</code> is used by default.</p>"},{"location":"configuration/template/#disable_rule_set","title":"disable_rule_set","text":"<p>Use <code>geoip</code> and <code>geosite</code> for traffic bypassing instead of rule sets.</p>"},{"location":"configuration/template/#disable_traffic_bypass","title":"disable_traffic_bypass","text":"<p>Disable traffic bypass for Chinese DNS queries and connections.</p>"},{"location":"configuration/template/#remote_resolve","title":"remote_resolve","text":"<p>Don't generate <code>doamin_strategy</code> options for inbounds.</p>"},{"location":"configuration/template/#dns","title":"dns","text":"<p>Default DNS server.</p> <p><code>tls://8.8.8.8</code> is used by default.</p>"},{"location":"configuration/template/#dns_local","title":"dns_local","text":"<p>DNS server used for China DNS requests.</p> <p><code>114.114.114.114</code> is used by default.</p>"},{"location":"configuration/template/#enable_fakeip","title":"enable_fakeip","text":"<p>Enable FakeIP.</p>"},{"location":"configuration/template/#pre_dns_rules","title":"pre_dns_rules","text":"<p>List of DNS Rule.</p> <p>Will be applied before traffic bypassing rules.</p>"},{"location":"configuration/template/#custom_dns_rules","title":"custom_dns_rules","text":"<p>List of DNS Rule.</p> <p>No default traffic bypassing DNS rules will be generated if not empty.</p>"},{"location":"configuration/template/#inbounds","title":"inbounds","text":"<p>List of Inbound.</p>"},{"location":"configuration/template/#auto_redirect","title":"auto_redirect","text":"<p>Generate auto-redirect options for android and unknown platforms.</p>"},{"location":"configuration/template/#disable_tun","title":"disable_tun","text":"<p>Don't generate TUN inbound.</p> <p>If the target platform can only use TUN for proxy (currently all Apple platforms), this item will not take effect.</p>"},{"location":"configuration/template/#disable_system_proxy","title":"disable_system_proxy","text":"<p>Don't generate <code>tun.platform.http_proxy</code> for known platforms and <code>set_system_proxy</code> for unknown platforms.</p>"},{"location":"configuration/template/#custom_tun","title":"custom_tun","text":"<p>Custom TUN inbound template.</p>"},{"location":"configuration/template/#custom_mixed","title":"custom_mixed","text":"<p>Custom Mixed inbound template.</p>"},{"location":"configuration/template/#extra_groups","title":"extra_groups","text":"<p>Generate extra outbound groups.</p>"},{"location":"configuration/template/#extra_groupstag","title":"extra_groups.tag","text":"<p>Required</p> <p>Tag of the group outbound.</p>"},{"location":"configuration/template/#extra_groupstype","title":"extra_groups.type","text":"<p>Required</p> <p>Type of the group outbound.</p>"},{"location":"configuration/template/#extra_groupstarget","title":"extra_groups.target","text":"Value Description <code>default</code> No additional behaviors. <code>global</code> Generate a group and add it to default selector. <code>subscription</code> Generate a internal group for every subscription selector."},{"location":"configuration/template/#extra_groupstag_per_subscription","title":"extra_groups.tag_per_subscription","text":"<p>Tag for every new subscription internal group when <code>target</code> is <code>subscription</code>.</p> <p><code>{{ .tag }} ({{ .subscription_name }})</code> is used by default.</p>"},{"location":"configuration/template/#extra_groupsfilter","title":"extra_groups.filter","text":"<p>Regexp filter rules, non-matching outbounds will be removed.</p>"},{"location":"configuration/template/#extra_groupsexclude","title":"extra_groups.exclude","text":"<p>Regexp exclude rules, matching outbounds will be removed.</p>"},{"location":"configuration/template/#extra_groupscustom_selector","title":"extra_groups.custom_selector","text":"<p>Custom Selector template.</p>"},{"location":"configuration/template/#extra_groupscustom_urltest","title":"extra_groups.custom_urltest","text":"<p>Custom URLTest template.</p>"},{"location":"configuration/template/#direct_tag","title":"direct_tag","text":"<p>Custom direct outbound tag.</p>"},{"location":"configuration/template/#default_tag","title":"default_tag","text":"<p>Custom default outbound tag.</p>"},{"location":"configuration/template/#urltest_tag","title":"urltest_tag","text":"<p>Custom URLTest outbound tag.</p>"},{"location":"configuration/template/#custom_direct","title":"custom_direct","text":"<p>Custom Direct outbound template.</p>"},{"location":"configuration/template/#custom_selector","title":"custom_selector","text":"<p>Custom Selector outbound template.</p>"},{"location":"configuration/template/#custom_urltest","title":"custom_urltest","text":"<p>Custom URLTest outbound template.</p>"},{"location":"configuration/template/#pre_rules","title":"pre_rules","text":"<p>List of Rule.</p> <p>Will be applied before traffic bypassing rules.</p>"},{"location":"configuration/template/#custom_rules","title":"custom_rules","text":"<p>List of Rule.</p> <p>No default traffic bypassing rules will be generated if not empty.</p>"},{"location":"configuration/template/#enable_jsdelivr","title":"enable_jsdelivr","text":"<p>Use jsDelivr CDN and direct outbound for default rule sets or Geo resources.</p>"},{"location":"configuration/template/#custom_geoip","title":"custom_geoip","text":"<p>Custom GeoIP template.</p>"},{"location":"configuration/template/#custom_geosite","title":"custom_geosite","text":"<p>Custom GeoSite template.</p>"},{"location":"configuration/template/#custom_rule_set","title":"custom_rule_set","text":"<p>List of RuleSet.</p> <p>Default rule sets will not be generated if not empty.</p>"},{"location":"configuration/template/#post_rule_set","title":"post_rule_set","text":"<p>List of RuleSet.</p> <p>Will be applied after default rule sets.</p>"},{"location":"configuration/template/#disable_cache_file","title":"disable_cache_file","text":"<p>Don't generate <code>cache_file</code> related options.</p>"},{"location":"configuration/template/#disable_clash_mode","title":"disable_clash_mode","text":"<p>Don't generate <code>clash_mode</code> related options.</p>"},{"location":"configuration/template/#clash_mode_rule","title":"clash_mode_rule","text":"<p>Name of the 'Rule' Clash mode.</p> <p><code>Rule</code> is used by default.</p>"},{"location":"configuration/template/#clash_mode_global","title":"clash_mode_global","text":"<p>Name of the 'Global' Clash mode.</p> <p><code>Global</code> is used by default.</p>"},{"location":"configuration/template/#clash_mode_direct","title":"clash_mode_direct","text":"<p>Name of the 'Direct' Clash mode.</p> <p><code>Direct</code> is used by default.</p>"},{"location":"configuration/template/#custom_clash_api","title":"custom_clash_api","text":"<p>Custom Clash API template.</p>"},{"location":"configuration/template/#pprof_listen","title":"pprof_listen","text":"<p>Listen address of the pprof server.</p>"},{"location":"configuration/template/#memory_limit","title":"memory_limit","text":"<p>Set soft memory limit for sing-box.</p> <p><code>100m</code> is recommended if memory limit is required.</p>"},{"location":"configuration/user/","title":"User","text":""},{"location":"configuration/user/#structure","title":"Structure","text":"<pre><code>{\n  \"name\": \"\",\n  \"password\": \"\",\n  \"profile\": [],\n  \"default_profile\": \"\"\n}\n</code></pre> <p>You can ignore the JSON Array [] tag when the content is only one item</p>"},{"location":"configuration/user/#fields","title":"Fields","text":""},{"location":"configuration/user/#name","title":"name","text":"<p>HTTP basic authentication username.</p>"},{"location":"configuration/user/#password","title":"password","text":"<p>HTTP basic authentication password.</p>"},{"location":"configuration/user/#profile","title":"profile","text":"<p>Accessible profiles for this user.</p> <p>List of Profile name.</p>"},{"location":"configuration/user/#default_profile","title":"default_profile","text":"<p>Default profile name.</p> <p>First profile is used by default.</p>"},{"location":"configuration/shared/rule-set/","title":"RuleSet","text":"<p>RuleSet generate configuration.</p>"},{"location":"configuration/shared/rule-set/#structure","title":"Structure","text":"OriginalGitHubExampleExample (Clash.Meta repository) <pre><code>{\n  \"type\": \"remote\", // or local\n\n  ... // Original Fields\n}\n</code></pre> <pre><code>{\n  \"type\": \"github\",\n  \"repository\": \"\",\n  \"path\": \"\",\n  \"rule_set\": []\n}\n</code></pre> <pre><code>{\n  \"type\": \"github\",\n  \"repository\": \"SagerNet/sing-geosite\",\n  \"path\": \"rule-set\",\n  \"prefix\": \"geosite-\",\n  \"rule_set\": [\n    \"apple\",\n    \"microsoft\",\n    \"openai\"\n  ]\n}\n</code></pre> <pre><code>{\n  \"type\": \"github\",\n  \"repository\": \"MetaCubeX/meta-rules-dat\",\n  \"path\": \"sing/geo/geosite\",\n  \"prefix\": \"geosite-\",\n  \"rule_set\": [\n    \"apple\",\n    \"microsoft\",\n    \"openai\"\n  ]\n}\n</code></pre>"},{"location":"configuration/shared/rule-set/#original-fields","title":"Original Fields","text":"<p>See RuleSet.</p>"},{"location":"configuration/shared/rule-set/#github-fields","title":"GitHub Fields","text":""},{"location":"configuration/shared/rule-set/#repository","title":"repository","text":"<p>GitHub repository, <code>SagerNet/sing-&lt;geoip/geosite&gt;</code> or <code>MetaCubeX/meta-rules-dat</code>.</p>"},{"location":"configuration/shared/rule-set/#path","title":"path","text":"<p>Branch and directory path, <code>rule-set</code> or <code>sing/geo/&lt;geoip/geosite&gt;</code>.</p>"},{"location":"configuration/shared/rule-set/#prefix","title":"prefix","text":"<p>File prefix, <code>geoip-</code> or <code>geosite-</code>.</p>"},{"location":"configuration/shared/rule-set/#rule_set","title":"rule_set","text":"<p>RuleSet name list.</p>"},{"location":"installation/build-from-source/","title":"Build from source","text":""},{"location":"installation/build-from-source/#requirements","title":"Requirements","text":"<ul> <li>Go 1.21.x</li> </ul> <p>You can download and install Go from: https://go.dev/doc/install, latest version is recommended.</p>"},{"location":"installation/build-from-source/#build","title":"Build","text":"<pre><code>make\n</code></pre> <p>Or build and install binary to <code>$GOBIN</code>:</p> <pre><code>make install\n</code></pre>"},{"location":"installation/docker/","title":"Docker","text":""},{"location":"installation/docker/#command","title":"Command","text":"<pre><code>docker run -d \\\n  -v /etc/serenity:/etc/serenity/ \\\n  --name=serenity \\\n  --restart=always \\\n  ghcr.io/sagernet/serenity \\\n  -D /var/lib/serenity \\\n  -C /etc/serenity/ run\n</code></pre>"},{"location":"installation/docker/#compose","title":"Compose","text":"<pre><code>version: \"3.8\"\nservices:\n  serenity:\n    image: ghcr.io/sagernet/serenity\n    container_name: serenity\n    restart: always\n    volumes:\n      - /etc/serenity:/etc/serenity/\n    command: -D /var/lib/serenity -C /etc/serenity/ run\n</code></pre>"},{"location":"installation/package-manager/","title":"Package Manager","text":""},{"location":"installation/package-manager/#repository-installation","title":"Repository Installation","text":"Debian / APT Redhat / DNF CentOS / YUM <pre><code>sudo curl -fsSL https://deb.sagernet.org/gpg.key -o /etc/apt/keyrings/sagernet.asc\nsudo chmod a+r /etc/apt/keyrings/sagernet.asc\necho \"deb [arch=`dpkg --print-architecture` signed-by=/etc/apt/keyrings/sagernet.asc] https://deb.sagernet.org/ * *\" | \\\n  sudo tee /etc/apt/sources.list.d/sagernet.list &gt; /dev/null\nsudo apt-get update\nsudo apt-get install serenity\n</code></pre> <pre><code>sudo dnf -y install dnf-plugins-core\nsudo dnf config-manager --add-repo https://sing-box.app/rpm.repo\nsudo dnf install serenity\n</code></pre> <pre><code>sudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://sing-box.app/rpm.repo\nsudo yum install serenity\n</code></pre>"},{"location":"installation/package-manager/#manual-installation","title":"Manual Installation","text":"Debian / DEB Redhat / RPM Archlinux / PKG <pre><code>bash &lt;(curl -fsSL https://serenity.app/serenity/deb-install.sh)\n</code></pre> <pre><code>bash &lt;(curl -fsSL https://sing-box.app/serenity/rpm-install.sh)\n</code></pre> <pre><code>bash &lt;(curl -fsSL https://sing-box.app/serenity/arch-install.sh)\n</code></pre>"},{"location":"installation/package-manager/#service-management","title":"Service Management","text":"<p>For Linux systems with systemd, usually the installation already includes a serenity service, you can manage the service using the following command:</p> Operation Command Enable <code>sudo systemctl enable serenity</code> Disable <code>sudo systemctl disable serenity</code> Start <code>sudo systemctl start serenity</code> Stop <code>sudo systemctl stop serenity</code> Kill <code>sudo systemctl kill serenity</code> Restart <code>sudo systemctl restart serenity</code> Logs <code>sudo journalctl -u serenity --output cat -e</code> New Logs <code>sudo journalctl -u serenity --output cat -f</code>"},{"location":"zh/","title":"\u5f00\u59cb","text":"<p>\u6b22\u8fce\u6765\u5230\u8be5 sing-box \u9879\u76ee\u7684\u6587\u6863\u9875\u3002</p> <p>sing-box \u914d\u7f6e\u751f\u6210\u5668\u3002</p>"},{"location":"zh/#_2","title":"\u6388\u6743","text":"<pre><code>Copyright (C) 2022 by nekohasekai &lt;contact-sagernet@sekai.icu&gt;\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.\n\nIn addition, no derivative work may use the name or imply association\nwith this application without prior consent.\n</code></pre>"},{"location":"zh/changelog/","title":"\u66f4\u65b0\u65e5\u5fd7","text":""},{"location":"zh/support/","title":"\u652f\u6301","text":"\u901a\u9053 \u94fe\u63a5 \u793e\u533a https://community.sagernet.org GitHub Issues https://github.com/SagerNet/serenity/issues Telegram \u901a\u77e5\u9891\u9053 https://t.me/yapnc Telegram \u7528\u6237\u7ec4 https://t.me/yapug \u90ae\u4ef6 contact@sagernet.org"},{"location":"zh/installation/build-from-source/","title":"\u4ece\u6e90\u4ee3\u7801\u6784\u5efa","text":""},{"location":"zh/installation/build-from-source/#_2","title":"\u8981\u6c42","text":"<ul> <li>Go 1.21.x</li> </ul> <p>\u60a8\u53ef\u4ee5\u4ece https://go.dev/doc/install \u4e0b\u8f7d\u5e76\u5b89\u88c5 Go\uff0c\u63a8\u8350\u4f7f\u7528\u6700\u65b0\u7248\u672c\u3002</p>"},{"location":"zh/installation/build-from-source/#_3","title":"\u6784\u5efa","text":"<pre><code>make\n</code></pre> <p>\u6216\u8005\u6784\u5efa\u4e8c\u8fdb\u5236\u6587\u4ef6\u5e76\u5c06\u5176\u5b89\u88c5\u5230 <code>$GOBIN</code>\uff1a</p> <pre><code>make install\n</code></pre>"},{"location":"zh/installation/docker/#_1","title":"\u547d\u4ee4","text":"<pre><code>docker run -d \\\n  -v /etc/serenity:/etc/serenity/ \\\n  --name=serenity \\\n  --restart=always \\\n  ghcr.io/sagernet/serenity \\\n  -D /var/lib/serenity \\\n  -C /etc/serenity/ run\n</code></pre>"},{"location":"zh/installation/package-manager/","title":"\u5305\u7ba1\u7406\u5668","text":""},{"location":"zh/installation/package-manager/#_2","title":"\u4ed3\u5e93\u5b89\u88c5","text":"Debian / APT Redhat / DNF CentOS / YUM <pre><code>sudo curl -fsSL https://deb.sagernet.org/gpg.key -o /etc/apt/keyrings/sagernet.asc\nsudo chmod a+r /etc/apt/keyrings/sagernet.asc\necho \"deb [arch=`dpkg --print-architecture` signed-by=/etc/apt/keyrings/sagernet.asc] https://deb.sagernet.org/ * *\" | \\\n  sudo tee /etc/apt/sources.list.d/sagernet.list &gt; /dev/null\nsudo apt-get update\nsudo apt-get install serenity\n</code></pre> <pre><code>sudo dnf -y install dnf-plugins-core\nsudo dnf config-manager --add-repo https://sing-box.app/rpm.repo\nsudo dnf install serenity\n</code></pre> <pre><code>sudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://sing-box.app/rpm.repo\nsudo yum install serenity\n</code></pre>"},{"location":"zh/installation/package-manager/#_3","title":"\u624b\u52a8\u5b89\u88c5","text":"Debian / DEB Redhat / RPM Archlinux / PKG <pre><code>bash &lt;(curl -fsSL https://sing-box.app/serenity/deb-install.sh)\n</code></pre> <pre><code>bash &lt;(curl -fsSL https://sing-box.app/serenity/rpm-install.sh)\n</code></pre> <pre><code>bash &lt;(curl -fsSL https://sing-box.app/serenity/arch-install.sh)\n</code></pre>"},{"location":"zh/installation/package-manager/#_4","title":"\u670d\u52a1\u7ba1\u7406","text":"<p>\u5bf9\u4e8e\u5e26\u6709 systemd \u7684 Linux \u7cfb\u7edf\uff0c\u901a\u5e38\u5b89\u88c5\u5df2\u7ecf\u5305\u542b serenity \u670d\u52a1\uff0c \u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u7ba1\u7406\u670d\u52a1\uff1a</p> \u884c\u52a8 \u547d\u4ee4 \u542f\u7528 <code>sudo systemctl enable serenity</code> \u7981\u7528 <code>sudo systemctl disable serenity</code> \u542f\u52a8 <code>sudo systemctl start serenity</code> \u505c\u6b62 <code>sudo systemctl stop serenity</code> \u5f3a\u884c\u505c\u6b62 <code>sudo systemctl kill serenity</code> \u91cd\u65b0\u542f\u52a8 <code>sudo systemctl restart serenity</code> \u67e5\u770b\u65e5\u5fd7 <code>sudo journalctl -u serenity --output cat -e</code> \u5b9e\u65f6\u65e5\u5fd7 <code>sudo journalctl -u serenity --output cat -f</code>"}]}